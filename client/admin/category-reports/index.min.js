function e({children:e,onClickHeader:t,question:a,topRightComponent:n}){const{_id:c}=a;return React.createElement("div",{className:"card my-2"},React.createElement("div",{className:"card-header d-flex justify-content-between"},React.createElement("b",{className:"clickable",onClick:"collapse"===t?null:t,"data-bs-toggle":"collapse"===t?"collapse":null,"data-bs-target":"collapse"===t?`#question-${c}`:null},a.set.name," | ",a.category," | ",a.subcategory," ",a.alternate_subcategory?" | "+a.alternate_subcategory:""," | ",a.difficulty),React.createElement("span",null,React.createElement("b",{className:"clickable","data-bs-toggle":"collapse","data-bs-target":`#question-${c}`},"Packet ",a.packet.number," |"),React.createElement("span",null," "),n)),React.createElement("div",{className:"card-container collapse show",id:`question-${c}`},e))}Object.keys({Literature:["American Literature","British Literature","Classical Literature","European Literature","World Literature","Other Literature"],History:["American History","Ancient History","European History","World History","Other History"],Science:["Biology","Chemistry","Physics","Other Science"],"Fine Arts":["Visual Fine Arts","Auditory Fine Arts","Other Fine Arts"],Religion:["Religion"],Mythology:["Mythology"],Philosophy:["Philosophy"],"Social Science":["Social Science"],"Current Events":["Current Events"],Geography:["Geography"],"Other Academic":["Other Academic"],"Pop Culture":["Movies","Music","Sports","Television","Video Games","Other Pop Culture"]});const t={Literature:["Drama","Long Fiction","Poetry","Short Fiction","Misc Literature"],History:[],Science:["Math","Astronomy","Computer Science","Earth Science","Engineering","Misc Science"],"Fine Arts":["Architecture","Dance","Film","Jazz","Musicals","Opera","Photography","Misc Arts"],Religion:[],Mythology:[],Philosophy:[],"Social Science":["Anthropology","Economics","Linguistics","Psychology","Sociology","Other Social Science"],"Current Events":[],Geography:[],"Other Academic":[],"Pop Culture":[]},a={"American Literature":"Literature","British Literature":"Literature","Classical Literature":"Literature","European Literature":"Literature","World Literature":"Literature","Other Literature":"Literature","American History":"History","Ancient History":"History","European History":"History","World History":"History","Other History":"History",Biology:"Science",Chemistry:"Science",Physics:"Science","Other Science":"Science","Visual Fine Arts":"Fine Arts","Auditory Fine Arts":"Fine Arts","Other Fine Arts":"Fine Arts",Religion:"Religion",Mythology:"Mythology",Philosophy:"Philosophy","Social Science":"Social Science","Current Events":"Current Events",Geography:"Geography","Other Academic":"Other Academic",Movies:"Pop Culture",Music:"Pop Culture",Sports:"Pop Culture",Television:"Pop Culture","Video Games":"Pop Culture","Other Pop Culture":"Pop Culture"},n=(Object.keys(a),Object.keys({Drama:"Literature","Long Fiction":"Literature",Poetry:"Literature","Short Fiction":"Literature","Misc Literature":"Literature",Math:"Science",Astronomy:"Science","Computer Science":"Science","Earth Science":"Science",Engineering:"Science","Misc Science":"Science",Architecture:"Fine Arts",Dance:"Fine Arts",Film:"Fine Arts",Jazz:"Fine Arts",Musicals:"Fine Arts",Opera:"Fine Arts",Photography:"Fine Arts","Misc Arts":"Fine Arts",Anthropology:"Social Science",Economics:"Social Science",Linguistics:"Social Science",Psychology:"Social Science",Sociology:"Social Science","Other Social Science":"Social Science"}),"true"===window.localStorage.getItem("database-font-size")?window.localStorage.getItem("font-size")??16:16);function c({tossup:t}){const a=t._id,c=t.packet.name;return React.createElement(e,{onClickHeader:"collapse",question:t},React.createElement("div",{className:"card-body",style:{fontSize:`${n}px`}},React.createElement("span",{style:{fontWeight:"<b>"===t.question.substring(0,3)?"bold":"normal"}},t.number,". "),React.createElement("span",{dangerouslySetInnerHTML:{__html:t.question}}),React.createElement("hr",{className:"my-3"}),React.createElement("div",null,React.createElement("b",null,"ANSWER:")," ",React.createElement("span",{dangerouslySetInnerHTML:{__html:t?.answer}}))),React.createElement("div",{className:"card-footer clickable",onClick:function(){document.getElementById("old-category").value=`${t.category} / ${t.subcategory}`,document.getElementById("question-id").value=a,document.getElementById("question-type").textContent="tossup";const e=t.reports.map(e=>e.description).join("; ")||"None given";document.getElementById("report-reason").value=e},id:`fix-category-${a}`,"data-bs-toggle":"modal","data-bs-target":"#fix-category-modal"},React.createElement("small",{className:"text-muted"},c?"Packet "+c:React.createElement("span",null," ")),React.createElement("small",{className:"text-muted float-end"},React.createElement("a",{href:"javascript:void(0);"},"Fix Category"))))}function r({bonus:t}){const a=t._id,n=t.packet.name,c=t.parts.length,r=[];for(let e=0;e<c;e++)r.push(e);return React.createElement(e,{onClickHeader:"collapse",question:t},React.createElement("div",{className:"card-body"},React.createElement("span",{style:{fontWeight:"<b>"===t.leadin.substring(0,3)?"bold":"normal"}},t.number,". "),React.createElement("span",{dangerouslySetInnerHTML:{__html:t.leadin}}),r.map(e=>React.createElement("div",{key:`${t._id}-${e}`},React.createElement("hr",null),React.createElement("p",null,function(e,t,a=10,n=""){return`[${e?.values?.[t]??a}${e?.difficultyModifiers?.[t]??n}]`}(e)," ",React.createElement("span",{dangerouslySetInnerHTML:{__html:t.parts[e]}})),React.createElement("b",null,"ANSWER: "),React.createElement("span",{dangerouslySetInnerHTML:{__html:t?.answers[e]}})))),React.createElement("div",{className:"card-footer clickable",onClick:function(){document.getElementById("old-category").value=`${t.category} / ${t.subcategory}`,document.getElementById("question-id").value=a,document.getElementById("question-type").textContent="bonus";const e=t.reports.map(e=>e.description).join("; ")||"None given";document.getElementById("report-reason").value=e},"data-bs-toggle":"modal","data-bs-target":"#fix-category-modal"},React.createElement("small",{className:"text-muted"},n?"Packet "+n:React.createElement("span",null," ")),React.createElement("small",{className:"text-muted float-end"},React.createElement("a",{href:"javascript:void(0);"},"Fix Category"))))}function o(){let[e,t]=React.useState([]),[a,n]=React.useState([]);return React.useEffect(()=>{fetch("/api/admin/list-reports?"+new URLSearchParams({reason:"wrong-category"})).then(e=>e.json()).then(c=>{e=c.tossups,a=c.bonuses,t(e),n(a)}),document.getElementById("clear-reports-submit").addEventListener("click",function(){const c=document.getElementById("question-id").value,r=document.getElementById("question-type").textContent;this.disabled=!0,this.textContent="Clearing...",fetch("/api/admin/clear-reports",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:c,type:r})}).then(o=>(document.getElementById("fix-category-close").click(),this.disabled=!1,this.textContent="Clear Report(s)",o.ok?void("tossup"===r?(e=e.filter(e=>e._id!==c),t(e)):"bonus"===r&&(a=a.filter(e=>e._id!==c),n(a))):void window.alert(`Error clearing reports for ${r} ${c}`)))}),document.getElementById("fix-category-submit").addEventListener("click",function(){const c=document.getElementById("question-id").value,r=document.getElementById("question-type").textContent;this.disabled=!0,this.textContent="Submitting...",fetch("/api/admin/update-subcategory",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:c,type:r,subcategory:document.getElementById("new-category").value,alternate_subcategory:document.getElementById("new-alternate-subcategory").value})}).then(o=>(document.getElementById("fix-category-close").click(),this.disabled=!1,this.textContent="Submit",o.ok?void("tossup"===r?(e=e.filter(e=>e._id!==c),t(e)):"bonus"===r&&(a=a.filter(e=>e._id!==c),n(a))):void window.alert("Error updating subcategory")))})},[]),React.createElement(React.Fragment,null,React.createElement("div",{className:"row text-center"},React.createElement("h3",{id:"tossups"},"Tossups")),React.createElement("div",{className:"float-row mb-3"},React.createElement("span",{className:"text-muted float-start"},"Showing ",e.length," tossups"),React.createElement("a",{className:"float-end",href:"#bonuses"},"Jump to bonuses")),e.map(e=>React.createElement(c,{key:e._id,tossup:e})),React.createElement("div",{className:"row text-center mt-5"},React.createElement("h3",{id:"bonuses"},"Bonuses")),React.createElement("div",{className:"float-row mb-3"},React.createElement("span",{className:"text-muted float-start"},"Showing ",a.length," bonuses"),React.createElement("a",{className:"float-end",href:"#tossups"},"Jump to tossups")),a.map(e=>React.createElement(r,{key:e._id,bonus:e})))}document.getElementById("new-category").addEventListener("input",function(){const e=this.value,n=a[e];let c=[];("Literature"===n||["Other Science","Other Fine Arts","Social Science"].includes(e))&&(c=t[n]);const r=document.getElementById("new-alternate-subcategory");r.innerHTML="";for(const e of c){const t=document.createElement("option");t.value=e,t.textContent=e,r.appendChild(t)}0===c.length?document.getElementById("alternate-subcategory-selection").classList.add("d-none"):(document.getElementById("alternate-subcategory-selection").classList.remove("d-none"),r.value=c.at(-1))}),ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(o,null));