var e,t,a,n,r,s={0:(e,t,a)=>{function n({tossup:e,regExp:t,searchType:a="all",ignoreWordOrder:n,queryString:r}){const c=n?r.split(" ").filter(e=>""!==e).map(e=>new RegExp(e,"ig")):[t];for(const t of c)"question"!==a&&"all"!==a||(e.question=s(e.question,e.question_sanitized,t)),"answer"!==a&&"all"!==a||(e.answer=s(e.answer,e.answer_sanitized,t));return e}function r({bonus:e,regExp:t,searchType:a="all",ignoreWordOrder:n,queryString:r}){const c=n?r.split(" ").filter(e=>""!==e).map(e=>new RegExp(e,"ig")):[t];for(const t of c){if("question"===a||"all"===a){e.leadin=s(e.leadin,e.leadin_sanitized,t);for(let a=0;a<e.parts.length;a++)e.parts[a]=s(e.parts[a],e.parts_sanitized[a],t)}if("answer"===a||"all"===a)for(let a=0;a<e.answers.length;a++)e.answers[a]=s(e.answers[a],e.answers_sanitized[a],t)}return e}function s(e,t,a){const{starts:n,ends:r}=function(e,t){const a=e.matchAll(t),n=[],r=[];let s=a.next();for(;!1===s.done;)n.push(s.value.index),r.push(s.value.index+s.value[0].length),s=a.next();return{starts:n,ends:r}}(t,a);return function(e,t,a={'<span class="text-highlight">':[],"</span>":[]},n){e=e.replace(/…/g,"...");const r=JSON.parse(JSON.stringify(a)),s=[];let c=0,o=0,i=0;const l=function(e,t){if(t&&"string"==typeof t){if(2===!Object.keys(e).length)throw new Error("If openingToken is specified, tokensToIndices must contain exactly two keys: the opening and closing tokens.");if(!Object.keys(e).includes(t))throw new Error(`If openingToken is specified, arrayOfTokens must contain the opening token "${t}".`);return Object.keys(e).find(e=>e!==t)}}(r,n);let u=!1;for(;c<=t.length;){if(u&&n)for(;"<"!==t.charAt(c)&&"<"===e.charAt(o)&&"/"===e.charAt(o+1);){for(s.push(e.substring(i,o)),s.push(l),i=o;"<"===e.charAt(o)&&"<"!==t.charAt(c);){for(;">"!==e.charAt(o)&&o<e.length-1;)o++;o++}s.push(e.substring(i,o)),s.push(n),i=o}for(;"<"===e.charAt(o)&&"<"!==t.charAt(c);){for(;">"!==e.charAt(o)&&o<e.length-1;)o++;o++}for(;["·","⋅","‧"].includes(e.charAt(o))&&!["·","⋅","‧"].includes(t.charAt(c))&&o<e.length-1;)o++;"<"===t[c]&&(t=t.slice(0,c)+"〈"+t.slice(c+1),e=e.slice(0,o)+"〈"+e.slice(o+1)),">"===t[c]&&(t=t.slice(0,c)+"〉"+t.slice(c+1),e=e.slice(0,o)+"〉"+e.slice(o+1)),s.push(e.substring(i,o)),i=o;for(const[t,a]of Object.entries(r))a[0]===c&&(s.push(e.substring(i,o)),s.push(t),a.shift(),i=o,u=t===n);c++,o++}return s.push(e.substring(i,e.length)),s.join("").replace(/〈/g,"&lt;").replace(/〉/g,"&gt;")}(e,t,{'<span class="text-highlight">':n,"</span>":r},'<span class="text-highlight">')}a.d(t,{o:()=>r,j:()=>n})},36:(e,t,a)=>{async function n(){const e=await fetch("/api/set-list");return(await e.json()).setList}a.d(t,{A:()=>n})},92:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(648),r=a(509);function s({tossup:e,highlightedTossup:t,hideAnswerline:a,hideCardFooter:s,topRightComponent:c,fontSize:o=16}){const i=e._id;return React.createElement(r.A,{onClickHeader:function(){const t=(0,n.w)(e);navigator.clipboard.writeText(t),new bootstrap.Toast(document.getElementById("clipboard-toast")).show()},question:e,topRightComponent:c},React.createElement("div",{className:"card-body",style:{fontSize:`${o}px`}},React.createElement("span",{style:{fontWeight:"<b>"===e.question.substring(0,3)?"bold":"normal"}},e.number,". "),React.createElement("span",{dangerouslySetInnerHTML:{__html:t.question}}),React.createElement("hr",{className:"my-3"}),React.createElement("div",null,React.createElement("b",null,"ANSWER:")," ",React.createElement("span",{dangerouslySetInnerHTML:{__html:a?"":t?.answer}}))),React.createElement("div",{className:`card-footer d-flex justify-content-between ${s&&"d-none"}`},React.createElement("div",{className:"clickable flex-grow-1",onClick:function(){fetch("/api/question-stats/tossup?"+new URLSearchParams({_id:i})).then(e=>e.json()).then(e=>{document.getElementById("tossup-stats-question-id").value=i;const{stats:t}=e;if(!t)return void(document.getElementById("tossup-stats-body").textContent="No stats found for this question.");const a=0<t.numCorrect?t.totalCorrectCelerity/t.numCorrect:0,n=[["TUH",t.count],["15s",t["15s"]],["10s",t["10s"]],["-5s",t["-5s"]],["Average celerity",a.toFixed(3)],["Total points",t.totalPoints],["PPTU",t.pptu.toFixed(2)]],r=document.createElement("ul");r.className="list-group";for(const[e,t]of n){const a=document.createElement("li");a.className="list-group-item d-flex justify-content-between align-items-center",a.innerHTML=`${e} <span>${t}</span>`,r.appendChild(a)}document.getElementById("tossup-stats-body").textContent="",document.getElementById("tossup-stats-body").appendChild(r)}).catch(e=>{console.error("Error:",e)})},"data-bs-toggle":"modal","data-bs-target":"#tossup-stats-modal"},React.createElement("small",{className:"text-muted"},e.packet.name?"Packet "+e.packet.name:React.createElement("span",null," "))),React.createElement("div",null,React.createElement("small",{className:"text-muted"},React.createElement("a",{href:`/tools/db-explorer/tossup?_id=${i}`,onClick:e=>e.stopPropagation()},"Link to tossup"),React.createElement("span",null," | "),React.createElement("a",{href:"#",onClick:function(){document.getElementById("report-question-id").value=i},id:`report-question-${i}`,"data-bs-toggle":"modal","data-bs-target":"#report-question-modal"},"Report Question")))))}},173:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(648),r=a(411),s=a(509);function c({bonus:e,highlightedBonus:t,hideAnswerlines:a,hideCardFooter:c,topRightComponent:o,fontSize:i=16}){const l=e._id,u=e.parts.length,m=[];for(let e=0;e<u;e++)m.push(e);return React.createElement(s.A,{onClickHeader:function(){const t=(0,n.$)(e);navigator.clipboard.writeText(t),new bootstrap.Toast(document.getElementById("clipboard-toast")).show()},question:e,topRightComponent:o},React.createElement("div",{className:"card-body",style:{fontSize:`${i}px`}},React.createElement("span",{style:{fontWeight:"<b>"===e.leadin.substring(0,3)?"bold":"normal"}},e.number,". "),React.createElement("span",{dangerouslySetInnerHTML:{__html:t.leadin}}),m.map(n=>React.createElement("div",{key:`${e._id}-${n}`},React.createElement("hr",null),React.createElement("p",null,(0,r.A)(e,n)," ",React.createElement("span",{dangerouslySetInnerHTML:{__html:t.parts[n]}})),React.createElement("b",null,"ANSWER: "),React.createElement("span",{dangerouslySetInnerHTML:{__html:a?"":t?.answers[n]}})))),React.createElement("div",{className:`card-footer d-flex justify-content-between ${c&&"d-none"}`},React.createElement("div",{className:"clickable flex-grow-1",onClick:function(){fetch("/api/question-stats/bonus?"+new URLSearchParams({_id:l})).then(e=>e.json()).then(e=>{document.getElementById("bonus-stats-question-id").value=l;const{stats:t}=e;if(!t)return void(document.getElementById("bonus-stats-body").textContent="No stats found for this question.");const a=[["BH",t.count],["1st part",(10*t.part1).toFixed(2)+" pts"],["2nd part",(10*t.part2).toFixed(2)+" pts"],["3rd part",(10*t.part3).toFixed(2)+" pts"],["30s/20s/10s/0s",`${t["30s"]}/${t["20s"]}/${t["10s"]}/${t["0s"]}`],["Total points",t.totalPoints],["PPB",t.ppb.toFixed(2)]],n=document.createElement("ul");n.className="list-group";for(const[e,t]of a){const a=document.createElement("li");a.className="list-group-item d-flex justify-content-between align-items-center",a.innerHTML=`${e} <span>${t}</span>`,n.appendChild(a)}document.getElementById("bonus-stats-body").textContent="",document.getElementById("bonus-stats-body").appendChild(n)})},"data-bs-toggle":"modal","data-bs-target":"#bonus-stats-modal"},React.createElement("small",{className:"text-muted"},e.packet.name?"Packet "+e.packet.name:React.createElement("span",null," "))),React.createElement("div",null,React.createElement("small",{className:"text-muted"},React.createElement("a",{href:`/tools/db-explorer/bonus?_id=${l}`,onClick:e=>e.stopPropagation()},"Link to bonus"),React.createElement("span",null," | "),React.createElement("a",{href:"#",onClick:function(){document.getElementById("report-question-id").value=l},id:`report-question-${l}`,"data-bs-toggle":"modal","data-bs-target":"#report-question-modal"},"Report Question")))))}},191:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(986);const r=React.createElement("i",{className:"bi bi-star-fill"}),s=React.createElement("i",{className:"bi bi-star"});function c({_id:e,questionType:t,initiallyStarred:a}){const[c,o]=React.useState(a);return React.createElement("a",{href:"#",id:`star-${e}`,onClick:async function(a){a.preventDefault(),a.stopPropagation();let r=!1;r=c?"tossup"===t?await n.A.unstarTossup(e):await n.A.unstarBonus(e):"tossup"===t?await n.A.starTossup(e):await n.A.starBonus(e),r&&o(!c)}},c?r:s)}},237:(e,t,a)=>{a.d(t,{CG:()=>c,CM:()=>s,ly:()=>r,sR:()=>o});var n=a(648);function r(e,t,a="data.txt"){let r="";for(const t of e)r+=(0,n.w)(t,!0)+"\n";for(const e of t)r+=(0,n.$)(e,!0)+"\n";const s=document.createElement("a");s.href="data:attachment/text;charset=utf-8,"+encodeURIComponent(r),s.target="_blank",s.download=a,s.click()}function s(e,t="tossups.csv"){const a=["_id","set.name","packet.number","number","question","answer","answer","category","subcategory","alternate_subcategory","difficulty","set._id","packet._id","updatedAt"];let n=a.join(",")+"\n";for(const t of e){for(const e of a){const a=e.split(".");let r=t;for(const e of a){if(void 0===r)break;r=r[e]}n+=i(r)+","}n=n.slice(0,-1),n+="\n"}const r=document.createElement("a");r.href="data:attachment/csv;charset=utf-8,"+encodeURIComponent(n),r.target="_blank",r.download=t,r.click()}function c(e,t="bonuses.csv"){const a=["_id","set.name","packet.number","number","leadin","parts.0","parts.1","parts.2","answers_sanitized.0","answers_sanitized.1","answers_sanitized.2","answers.0","answers.1","answers.2","category","subcategory","alternate_subcategory","difficulty","set._id","packet._id","updatedAt"];let n=a.join(",")+"\n";for(const t of e){for(const e of a){const a=e.split(".");let r=t;for(const e of a){if(void 0===r)break;r=r[e]}n+=i(r)+","}n=n.slice(0,-1),n+="\n"}const r=document.createElement("a");r.href="data:attachment/csv;charset=utf-8,"+encodeURIComponent(n),r.target="_blank",r.download=t,r.click()}function o(e,t,a="data.json"){const n={tossups:e,bonuses:t},r=document.createElement("a");r.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,4)),r.target="_blank",r.download=a,r.click()}function i(e){return null==e?"":("string"!=typeof e&&(e=e.toString()),`"${e.replace(/"/g,'""').replace(/\n/g,"\\n")}"`)}},267:(e,t,a)=>{a.d(t,{A:()=>c});const n=[["Literature","primary"],["History","success"],["Science","danger"],["Fine Arts","warning"],["Religion","secondary"],["Mythology","secondary"],["Philosophy","secondary"],["Social Science","secondary"],["Current Events","secondary"],["Geography","secondary"],["Other Academic","secondary"],["Pop Culture","secondary"]],r=[["American Literature","primary"],["British Literature","primary"],["Classical Literature","primary"],["European Literature","primary"],["World Literature","primary"],["Other Literature","primary"],["American History","success"],["Ancient History","success"],["European History","success"],["World History","success"],["Other History","success"],["Biology","danger"],["Chemistry","danger"],["Physics","danger"],["Other Science","danger"],["Visual Fine Arts","warning"],["Auditory Fine Arts","warning"],["Other Fine Arts","warning"],["Movies","secondary"],["Music","secondary"],["Sports","secondary"],["Television","secondary"],["Video Games","secondary"],["Other Pop Culture","secondary"]],s=[["Drama","primary"],["Long Fiction","primary"],["Poetry","primary"],["Short Fiction","primary"],["Misc Literature","primary"],["Math","danger"],["Astronomy","danger"],["Computer Science","danger"],["Earth Science","danger"],["Engineering","danger"],["Misc Science","danger"],["Architecture","warning"],["Dance","warning"],["Film","warning"],["Jazz","warning"],["Musicals","warning"],["Opera","warning"],["Photography","warning"],["Misc Arts","warning"],["Anthropology","secondary"],["Economics","secondary"],["Linguistics","secondary"],["Psychology","secondary"],["Sociology","secondary"],["Other Social Science","secondary"]],c=function({categoryManager:e,disablePercentView:t=!1,onClose:a=()=>{}}){function c({category:t,index:a}){function n(t){const n=Math.min(100,Math.max(0,e.categoryPercents[a]+t));e.categoryPercents[a]=n,e.loadCategoryModal()}return React.createElement("tr",null,React.createElement("th",{style:{width:"50%"}},t),React.createElement("td",{style:{width:"50%"}},React.createElement("span",{className:"font-monospace me-1 category-percent"}),React.createElement("div",{className:"btn-group btn-group-sm me-1",role:"group"},React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>n(-5)},"-"),React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>n(5)},"+")),React.createElement("div",{className:"btn-group btn-group-sm",role:"group"},React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>n(-100)},"Min"),React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>n(50-e.categoryPercents[a])},"50%"),React.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>n(100-e.categoryPercents.reduce((e,t)=>e+t))},"Max"))))}function o({category:t,color:a}){return React.createElement("div",null,React.createElement("input",{type:"checkbox",className:"btn-check",autoComplete:"off",id:t,onClick:function(){e.updateCategory(t),e.loadCategoryModal()}}),React.createElement("label",{className:`btn btn-outline-${a} w-100 rounded-0 my-1`,htmlFor:t},t,React.createElement("br",null)))}function i({subcategory:t,color:a,hidden:n=!1}){return React.createElement("div",null,React.createElement("input",{type:"checkbox",className:"btn-check",autoComplete:"off",id:t,onClick:function(){e.updateSubcategory(t),e.loadCategoryModal()}}),React.createElement("label",{className:`btn btn-outline-${a} w-100 rounded-0 my-1 ${n&&"d-none"}`,htmlFor:t},t,React.createElement("br",null)))}function l({subcategory:t,color:a,hidden:n=!1}){return React.createElement("div",null,React.createElement("input",{type:"checkbox",className:"btn-check",autoComplete:"off",id:t,onClick:function(){e.updateAlternateSubcategory(t),e.loadCategoryModal()}}),React.createElement("label",{className:`btn btn-outline-${a} w-100 rounded-0 my-1 ${n&&"d-none"}`,htmlFor:t},t,React.createElement("br",null)))}return React.useEffect(()=>{e.loadCategoryModal(),document.getElementById("category-modal").addEventListener("hidden.bs.modal",a)},[a]),React.createElement("div",{className:"modal modal-lg",id:"category-modal",tabIndex:"-1"},React.createElement("div",{className:"modal-dialog modal-dialog-scrollable"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("h5",{className:"modal-title me-2"},"Select Categories"),React.createElement(function(){return React.createElement("button",{className:"btn btn-primary me-1",id:"toggle-all",onClick:function(){0===e.categories.length?e.import({categories:n.map(e=>e[0]),subcategories:r.map(e=>e[0]),alternateSubcategories:s.map(e=>e[0])}):e.import(),e.loadCategoryModal()}},"Toggle all")},null),t||React.createElement(function(){return React.createElement("button",{className:"btn btn-primary",onClick:function(){e.percentView=!e.percentView,e.loadCategoryModal()}},"% view")},null),React.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),React.createElement("div",{className:"modal-body"},React.createElement("div",{className:"row",id:"non-percent-view"},React.createElement("div",{className:"col-4",id:"categories"},React.createElement("h5",{className:"text-center"},"Category"),n.map(e=>React.createElement(o,{key:e[0],category:e[0],color:e[1]}))),React.createElement("div",{className:"col-4",id:"subcategories"},React.createElement("h5",{className:"text-center"},"Subcategory"),React.createElement("div",{className:"text-muted text-center",id:"subcategory-info-text"},"You must select categories before you can select subcategories."),r.map(e=>React.createElement(i,{key:e[0],subcategory:e[0],color:e[1],hidden:!0}))),React.createElement("div",{className:"col-4",id:"alternate-subcategories"},React.createElement("h5",{className:"text-center"},"Alternate ",React.createElement("span",{className:"d-none d-lg-inline"},"Subcategory")),s.map(e=>React.createElement(l,{key:e[0],subcategory:e[0],color:e[1],hidden:!0})))),React.createElement("div",{className:"d-none",id:"percent-view"},React.createElement("table",{className:"table"},React.createElement("tbody",null,n.map((e,t)=>React.createElement(c,{key:e[0],category:e[0],index:t})),React.createElement("tr",null,React.createElement("th",null,"Total Percent:"),React.createElement("td",{className:"font-monospace"},React.createElement("span",{className:"me-1"},(e.categoryPercents.reduce((e,t)=>e+t,0)+"").padStart(3," "),"%"),React.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{e.categoryPercents=e.categoryPercents.map(()=>0),e.loadCategoryModal()}},"Reset"))))))))))}},283:(e,t,a)=>{function n(e,t,a){document.getElementById("report-question-submit").disabled=!0,fetch("/api/report-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e,reason:t,description:a})}).then(e=>{200===e.status?(document.getElementById("report-question-reason").value="wrong-category",document.getElementById("report-question-description").value="",window.alert("Question has been reported.")):window.alert("There was an error reporting the question.")}).catch(e=>{window.alert("There was an error reporting the question.")}).finally(()=>{document.getElementById("report-question-close").click(),document.getElementById("report-question-submit").disabled=!1})}a.d(t,{A:()=>n})},401:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(837);function r(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>!(""===t||null==t||!1===t||Array.isArray(t)&&0===t.length||"maxYear"===e&&t===n.d2||"questionType"===e&&"all"===t||"searchType"===e&&"all"===t)))}},411:(e,t,a)=>{function n(e,t,a=10,n=""){return`[${e?.values?.[t]??a}${e?.difficultyModifiers?.[t]??n}]`}a.d(t,{A:()=>n})},509:(e,t,a)=>{function n({children:e,onClickHeader:t,question:a,topRightComponent:n}){const{_id:r}=a;return React.createElement("div",{className:"card my-2"},React.createElement("div",{className:"card-header d-flex justify-content-between"},React.createElement("b",{className:"clickable",onClick:"collapse"===t?null:t,"data-bs-toggle":"collapse"===t?"collapse":null,"data-bs-target":"collapse"===t?`#question-${r}`:null},a.set.name," | ",a.category," | ",a.subcategory," ",a.alternate_subcategory?" | "+a.alternate_subcategory:""," | ",a.difficulty),React.createElement("span",null,React.createElement("b",{className:"clickable","data-bs-toggle":"collapse","data-bs-target":`#question-${r}`},"Packet ",a.packet.number," |"),React.createElement("span",null," "),n)),React.createElement("div",{className:"card-container collapse show",id:`question-${r}`},e))}a.d(t,{A:()=>n})},648:(e,t,a)=>{a.d(t,{$:()=>r,w:()=>s});var n=a(411);function r(e,t=!1){let a="";t&&(a+=`${e.set.name} Packet ${e.packet.number}\n`,a+=`Question ID: ${e._id}\n`),a+=`${e.number}. ${e.leadin_sanitized}\n`;for(let t=0;t<e.parts.length;t++)a+=`${(0,n.A)(e,t)} ${e.parts_sanitized[t]}\n`,a+=`ANSWER: ${e.answers_sanitized[t]}\n`;return a+=`<${e.category} / ${e.subcategory}${e.alternate_subcategory?" / "+e.alternate_subcategory:""}>\n`,a}function s(e,t=!1){let a="";return t&&(a+=`${e.set.name} Packet ${e.packet.number}\n`,a+=`Question ID: ${e._id}\n`),a+=`${e.number}. ${e.question_sanitized}\n`,a+=`ANSWER: ${e.answer_sanitized}\n`,a+=`<${e.category} / ${e.subcategory}${e.alternate_subcategory?" / "+e.alternate_subcategory:""}>\n`,a}},685:(e,t,a)=>{a.d(t,{A:()=>n});class n{static deleteUsername(){window.sessionStorage.setItem("account-username",JSON.stringify({username:null,expires:null})),document.getElementById("login-link").textContent="Log in",document.getElementById("login-link").href="/user/login"}static async getUsername(){let e;try{e=window.sessionStorage.getItem("account-username"),e=e?JSON.parse(e):{},e=e||{}}catch(t){e={},window.sessionStorage.setItem("account-username",JSON.stringify(e))}let{username:t,expires:a}=e;if(null===t)return null;if(void 0===t){const e=await fetch("/auth/get-username").then(e=>401===e.status?{username:null,expires:null}:e.json());t=e.username,window.sessionStorage.setItem("account-username",JSON.stringify(e))}else(null===a||a<Date.now())&&(t=null,window.sessionStorage.setItem("account-username",JSON.stringify({username:null,expires:null})));return t}static setUsername(e,t){window.sessionStorage.setItem("account-username",JSON.stringify({username:e,expires:t}))}}},754:(e,t,a)=>{a.a(e,async(e,t)=>{try{var n=a(237),r=a(0),s=a(986),c=a(92),o=a(173),i=a(267),l=a(955),u=a(191),m=a(828),d=a(401),h=a(984),g=a(283),p=a(36);const y=new Set(await s.A.getStarredTossupIds()),b=new Set(await s.A.getStarredBonusIds()),f="true"===window.localStorage.getItem("database-font-size")?window.localStorage.getItem("font-size")??16:16,E=992<window.screen.width?10:5,R=new h.A;function w(e,t){return Array(t-e).fill().map((t,a)=>e+a)}function S(){function e(){return Math.floor(1e4/(I||25))}function t(t,a,n){t.preventDefault();let r="tossup"===n?ue:de;const s={first:1,previous:Math.max(1,r-1),next:Math.min("tossup"===n?ge:ye,r+1,e()),last:Math.min("tossup"===n?ge:ye,e())};r=a in s?s[a]:a;const c=E*Math.floor((r-1)/E);"tossup"===n?(ue=r,me(r),Ee(c)):(de=r,he(r),we(c)),h(t,!1,!0),window.scrollTo({top:document.getElementById("tossup"===n?"tossups":"bonuses").offsetTop-100,behavior:"smooth"})}function a(e,a){return t(e,a,"tossup")}function s(e,a){return t(e,a,"bonus")}function h(e=null,t=!1,a=!1){const n=window.performance.now();e?.preventDefault(),le(!0),(t||!a)&&(ue=1,de=1,me(ue),he(de));const s={queryString:q,...R.export(),difficulties:(0,m.cl)("difficulties"),maxReturnLength:I,questionType:z,randomize:t,exactPhrase:K,caseSensitive:ee,powermarkOnly:ae,regex:G,ignoreWordOrder:Q,searchType:j,setName:B,tossupPagination:1===ue?"":ue,bonusPagination:1===de?"":de,minYear:J,maxYear:V};delete s.categoryPercents;const c=(0,d.A)(s),o=new window.URLSearchParams(c);fetch(`/api/query?${o}`).then(e=>{if(400===e.status)throw new Error("Invalid query");return e}).then(e=>e.json()).then(e=>{const{tossups:a,bonuses:s,queryString:c}=e,i=RegExp(c,ee?"g":"ig"),l=Math.max(1,I||25),{count:u,questionArray:m}=a,{count:d,questionArray:h}=s,g=JSON.parse(JSON.stringify(m)),p=JSON.parse(JSON.stringify(h));if(""!==q){for(let e=0;e<g.length;e++)g[e]=(0,r.j)({tossup:g[e],regExp:i,searchType:j,ignoreWordOrder:Q,queryString:c});for(let e=0;e<p.length;e++)p[e]=(0,r.o)({bonus:p[e],regExp:i,searchType:j,ignoreWordOrder:Q,queryString:c})}_(u),S(m),C(g),M(d),N(h),x(p),t?(pe(1),be(1)):(pe(Math.ceil(u/l)),be(Math.ceil(d/l))),Ee(E*Math.floor((ue-1)/E)),we(E*Math.floor((de-1)/E));const y=((window.performance.now()-n)/1e3).toFixed(2);ke(y),window.history.pushState({tossups:a,highlightedTossupArray:g,bonuses:s,highlightedBonusArray:p,timeElapsed:y,workingMaxReturnLength:l,randomize:t},"","?"+o)}).catch(e=>{console.error("Error:",e),window.alert("Invalid query. Please check your search parameters and try again.")}).finally(()=>{document.querySelectorAll('b.collapsed[data-bs-toggle="collapse"]').forEach(e=>e.classList.remove("collapsed")),document.querySelectorAll("div.card-container.collapse:not(.show)").forEach(e=>e.classList.add("show")),le(!1)})}const[g,S]=React.useState([]),[k,N]=React.useState([]),[v,C]=React.useState([]),[A,x]=React.useState([]),[T,_]=React.useState(0),[P,M]=React.useState(0),L=new window.URLSearchParams(window.location.search),[q,O]=React.useState(L.get("queryString")??""),[I,$]=React.useState(L.get("maxReturnLength")??""),[B,F]=React.useState(L.get("setName")??""),[j,H]=React.useState(L.get("searchType")??"all"),[z,D]=React.useState(L.get("questionType")??"all"),[J,U]=React.useState(L.get("minYear")??""),[V,W]=React.useState(L.get("maxYear")??""),[G,Y]=React.useState("true"===L.get("regex")),[Q,X]=React.useState("true"===L.get("ignoreWordOrder")),[K,Z]=React.useState("true"===L.get("exactPhrase")),[ee,te]=React.useState("true"===L.get("caseSensitive")),[ae,ne]=React.useState("true"===L.get("powermarkOnly")),[re,se]=React.useState(!1),[ce,oe]=React.useState(!1),[ie,le]=React.useState(!1);let[ue,me]=React.useState(1),[de,he]=React.useState(1);const[ge,pe]=React.useState(1),[ye,be]=React.useState(1),[fe,Ee]=React.useState(0),[Re,we]=React.useState(0),[Se,ke]=React.useState(0),Ne=[];for(let e=0;e<v.length;e++){const t=g[e]._id,a=React.createElement(u.A,{key:t,_id:t,questionType:"tossup",initiallyStarred:y.has(t)});Ne.push(React.createElement(c.A,{key:e,tossup:g[e],highlightedTossup:v[e],hideAnswerline:re,hideCardFooter:ce,fontSize:f,topRightComponent:a}))}const ve=[];for(let e=0;e<A.length;e++){const t=k[e]._id,a=React.createElement(u.A,{key:t,_id:t,questionType:"bonus",initiallyStarred:b.has(t)});ve.push(React.createElement(o.A,{key:e,bonus:k[e],highlightedBonus:A[e],hideAnswerlines:re,hideCardFooter:ce,fontSize:f,topRightComponent:a}))}return React.useEffect(async()=>{window.addEventListener("popstate",e=>{if(null===e.state)return _(0),S([]),C([]),M(0),N([]),x([]),pe(1),be(1),Ee(0),void we(0);const{tossups:t,highlightedTossupArray:a,bonuses:n,highlightedBonusArray:r,timeElapsed:s,workingMaxReturnLength:c,randomize:o}=e.state,{count:i,questionArray:l}=t,{count:u,questionArray:m}=n;_(i),S(l),C(a),M(u),N(m),x(r),o?(pe(1),be(1)):(pe(Math.ceil(i/c)),be(Math.ceil(u/c))),Ee(E*Math.floor((ue-1)/E)),we(E*Math.floor((de-1)/E)),ke(s)});const e=await(0,p.A)();if(document.getElementById("set-list").innerHTML=e.map(e=>`<option>${e}</option>`).join(""),""!==window.location.search){const e=L.get("difficulties")?.split(",")?.map(e=>parseInt(e));e&&(0,m.iy)("difficulties",e),h(null,"true"===L.get("randomize"))}},[]),React.createElement("div",null,React.createElement(i.A,{categoryManager:R,disablePercentView:!0}),React.createElement("form",{className:"mt-3",onSubmit:e=>{h(e)}},React.createElement("div",{className:"input-group mb-2"},React.createElement("input",{type:"text",className:"form-control",id:"query",placeholder:"Query",value:q,onChange:e=>{O(e.target.value)}}),React.createElement("button",{type:"submit",className:"btn btn-info"},"Search"),React.createElement("button",{id:"randomize",className:"btn btn-success",onClick:e=>{h(e,!0)}},"Random")),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-6 col-xl-3 mb-2"},React.createElement(l.A,null)),React.createElement("div",{className:"col-6 col-xl-3 mb-2"},React.createElement("input",{type:"number",className:"form-control",id:"max-return-length",placeholder:"# to Display",value:I,onChange:e=>{$(e.target.value)}})),React.createElement("div",{className:"input-group col-12 col-xl-6 mb-2"},React.createElement("input",{type:"text",className:"form-control",id:"set-name",placeholder:"Set Name",list:"set-list",value:B,onChange:e=>{F(e.target.value)}}),React.createElement("datalist",{id:"set-list"}),React.createElement("button",{type:"button",className:"btn btn-danger",id:"category-select-button","data-bs-toggle":"modal","data-bs-target":"#category-modal"},"Categories"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-6 col-md-3 mb-2"},React.createElement("select",{className:"form-select",id:"search-type",value:j,onChange:e=>{H(e.target.value)}},React.createElement("option",{value:"all"},"All text"),React.createElement("option",{value:"question"},"Question"),React.createElement("option",{value:"answer"},"Answer"))),React.createElement("div",{className:"col-6 col-md-3 mb-2"},React.createElement("select",{className:"form-select",id:"question-type",value:z,onChange:e=>{D(e.target.value)}},React.createElement("option",{value:"all"},"All questions"),React.createElement("option",{value:"tossup"},"Tossups"),React.createElement("option",{value:"bonus"},"Bonuses"))),React.createElement("div",{className:"col-6 col-md-3 mb-2"},React.createElement("input",{type:"number",className:"form-control",id:"min-year",placeholder:"Min Year",value:J,onChange:e=>{U(e.target.value)}})),React.createElement("div",{className:"col-6 col-md-3 mb-2"},React.createElement("input",{type:"number",className:"form-control",id:"max-year",placeholder:"Max Year",value:V,onChange:e=>{W(e.target.value)}}))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-12"},React.createElement("div",{className:"form-check form-switch"},React.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"toggle-regex",checked:G,onChange:()=>{Y(!G)}}),React.createElement("label",{className:"form-check-label",htmlFor:"toggle-regex"},"Search using regular expression"),React.createElement("a",{href:"https://www.sitepoint.com/learn-regex/"}," What's this?")),React.createElement("div",{className:"form-check form-switch"},React.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"toggle-ignore-word-order",checked:!G&&Q,disabled:G,onChange:()=>{X(!Q)}}),React.createElement("label",{className:"form-check-label",htmlFor:"toggle-ignore-word-order"},"Ignore word order")),React.createElement("div",{className:"form-check form-switch"},React.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"toggle-exact-phrase",checked:!G&&K,disabled:G,onChange:()=>{Z(!K)}}),React.createElement("label",{className:"form-check-label",htmlFor:"toggle-exact-phrase"},"Search for exact phrase")),React.createElement("div",{className:"form-check form-switch"},React.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"toggle-case-sensitive",checked:ee,onChange:()=>{te(!ee)}}),React.createElement("label",{className:"form-check-label",htmlFor:"toggle-case-sensitive"},"Case sensitive search")),React.createElement("div",{className:"form-check form-switch"},React.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"toggle-powermark-only",checked:ae,onChange:()=>{ne(!ae)}}),React.createElement("label",{className:"form-check-label",htmlFor:"toggle-powermark-only"},"Powermarked tossups only")),React.createElement("div",{className:"form-check form-switch"},React.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"toggle-hide-answerlines",checked:re,onChange:()=>{se(!re)}}),React.createElement("label",{className:"form-check-label",htmlFor:"toggle-hide-answerlines"},"Hide answerlines")),React.createElement("div",{className:"form-check form-switch"},React.createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"toggle-hide-card-footers",checked:ce,onChange:()=>{oe(!ce)}}),React.createElement("label",{className:"form-check-label",htmlFor:"toggle-hide-card-footers"},"Hide card footers")),React.createElement("div",{className:"float-end"},React.createElement("b",null,"Download this page:"),React.createElement("a",{className:"ms-2 clickable",onClick:()=>{(0,n.ly)(g,k)}},"TXT"),React.createElement("a",{className:"ms-2 clickable",onClick:()=>{(0,n.CM)(g),(0,n.CG)(k)}},"CSV"),React.createElement("a",{className:"ms-2 clickable",onClick:()=>{(0,n.sR)(g,k)}},"JSON"))))),ie&&React.createElement("div",{className:"d-block mx-auto mt-3 spinner-border",role:"status"},React.createElement("span",{className:"d-none"},"Loading...")),React.createElement("div",{className:"row text-center mt-2 mt-sm-0"},React.createElement("h3",{id:"tossups"},"Tossups")),0<T?React.createElement("div",{className:"float-row mb-3"},React.createElement("span",{className:"text-muted float-start"},"Showing ",g.length," of ",T," results (",Se," seconds)")," ",React.createElement("span",{className:"text-muted float-end"},React.createElement("a",{className:"clickable",onClick:()=>window.scrollTo({top:document.getElementById("bonuses").offsetTop,behavior:"smooth"})},"Jump to bonuses"))):React.createElement("div",{className:"text-muted"},"No tossups found"),React.createElement("div",null,Ne),1<ge&&React.createElement("nav",{"aria-label":"tossup nagivation"},React.createElement("ul",{className:"pagination justify-content-center"},React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"First",onClick:e=>{a(e,"first")}},"«")),React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e=>{a(e,"previous")}},"‹")),w(Math.min(fe),Math.min(fe+E,ge)).map(e=>{const t=ue===e+1;return React.createElement("li",{key:`tossup-pagination-${e+1}`,className:"page-item"},React.createElement("a",{className:`page-link ${t&&"active"}`,href:"#",onClick:t=>{a(t,e+1)}},e+1))}),React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e=>{a(e,"next")}},"›")),React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"Last",onClick:e=>{a(e,"last")}},React.createElement("span",{"aria-hidden":"true"},"»"))))),React.createElement("div",{className:"mb-5"}),React.createElement("div",{className:"row text-center"},React.createElement("h3",{id:"bonuses"},"Bonuses")),0<P?React.createElement("div",{className:"float-row mb-3"},React.createElement("span",{className:"text-muted float-start"},"Showing ",k.length," of ",P," results (",Se," seconds)")," ",React.createElement("span",{className:"text-muted float-end"},React.createElement("a",{className:"clickable",onClick:()=>window.scrollTo({top:document.getElementById("tossups").offsetTop,behavior:"smooth"})},"Jump to tossups"))):React.createElement("div",{className:"text-muted"},"No bonuses found"),React.createElement("div",null,ve),1<ye&&React.createElement("nav",{"aria-label":"bonus nagivation"},React.createElement("ul",{className:"pagination justify-content-center"},React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"First",onClick:e=>{s(e,"first")}},"«")),React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e=>{s(e,"previous")}},"‹")),w(Math.min(Re),Math.min(Re+E,ye)).map(e=>{const t=de===e+1;return React.createElement("li",{key:`bonus-pagination-${e+1}`,className:"page-item"},React.createElement("a",{className:`page-link ${t&&"active"}`,href:"#",onClick:t=>{s(t,e+1)}},e+1))}),React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e=>{s(e,"next")}},"›")),React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#","aria-label":"Last",onClick:e=>{s(e,"last")}},React.createElement("span",{"aria-hidden":"true"},"»"))))),React.createElement("div",{className:"mb-5"}))}ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(S,null)),document.getElementById("report-question-submit").addEventListener("click",function(){(0,g.A)(document.getElementById("report-question-id").value,document.getElementById("report-question-reason").value,document.getElementById("report-question-description").value)}),t()}catch(k){t(k)}},1)},828:(e,t,a)=>{function n(e){const t=[];return Array.from(document.getElementById(e).children).forEach(e=>{const a=e.querySelector("input");a.checked&&t.push(parseInt(a.value))}),t}function r(e,t){Array.isArray(t)&&Array.from(document.getElementById(e).children).forEach(e=>{const a=e.querySelector("input");t.includes(parseInt(a.value))^a.checked&&a.click()})}a.d(t,{cl:()=>n,iy:()=>r})},837:(e,t,a)=>{a.d(t,{d2:()=>n});const n=2025;Object.freeze({SET_NAME:"select by set name",RANDOM:"random questions",STARRED:"starred questions",LOCAL:"local packet"}),Object.freeze({NOT_STARTED:0,READING:1,LAST_PART_REVEALED:2}),Object.freeze({NOT_STARTED:0,READING:1,ANSWER_REVEALED:2})},862:(e,t,a)=>{a.d(t,{R6:()=>r,_h:()=>n,j:()=>s});const n={Literature:["American Literature","British Literature","Classical Literature","European Literature","World Literature","Other Literature"],History:["American History","Ancient History","European History","World History","Other History"],Science:["Biology","Chemistry","Physics","Other Science"],"Fine Arts":["Visual Fine Arts","Auditory Fine Arts","Other Fine Arts"],Religion:["Religion"],Mythology:["Mythology"],Philosophy:["Philosophy"],"Social Science":["Social Science"],"Current Events":["Current Events"],Geography:["Geography"],"Other Academic":["Other Academic"],"Pop Culture":["Movies","Music","Sports","Television","Video Games","Other Pop Culture"]},r=Object.keys(n),s={Literature:["Drama","Long Fiction","Poetry","Short Fiction","Misc Literature"],History:[],Science:["Math","Astronomy","Computer Science","Earth Science","Engineering","Misc Science"],"Fine Arts":["Architecture","Dance","Film","Jazz","Musicals","Opera","Photography","Misc Arts"],Religion:[],Mythology:[],Philosophy:[],"Social Science":["Anthropology","Economics","Linguistics","Psychology","Sociology","Other Social Science"],"Current Events":[],Geography:[],"Other Academic":[],"Pop Culture":[]};Object.keys({"American Literature":"Literature","British Literature":"Literature","Classical Literature":"Literature","European Literature":"Literature","World Literature":"Literature","Other Literature":"Literature","American History":"History","Ancient History":"History","European History":"History","World History":"History","Other History":"History",Biology:"Science",Chemistry:"Science",Physics:"Science","Other Science":"Science","Visual Fine Arts":"Fine Arts","Auditory Fine Arts":"Fine Arts","Other Fine Arts":"Fine Arts",Religion:"Religion",Mythology:"Mythology",Philosophy:"Philosophy","Social Science":"Social Science","Current Events":"Current Events",Geography:"Geography","Other Academic":"Other Academic",Movies:"Pop Culture",Music:"Pop Culture",Sports:"Pop Culture",Television:"Pop Culture","Video Games":"Pop Culture","Other Pop Culture":"Pop Culture"}),Object.keys({Drama:"Literature","Long Fiction":"Literature",Poetry:"Literature","Short Fiction":"Literature","Misc Literature":"Literature",Math:"Science",Astronomy:"Science","Computer Science":"Science","Earth Science":"Science",Engineering:"Science","Misc Science":"Science",Architecture:"Fine Arts",Dance:"Fine Arts",Film:"Fine Arts",Jazz:"Fine Arts",Musicals:"Fine Arts",Opera:"Fine Arts",Photography:"Fine Arts","Misc Arts":"Fine Arts",Anthropology:"Social Science",Economics:"Social Science",Linguistics:"Social Science",Psychology:"Social Science",Sociology:"Social Science","Other Social Science":"Social Science"})},955:(e,t,a)=>{a.d(t,{A:()=>s});const n=[[0,"Pop Culture"],[1,"Middle School"],[2,"Easy High School"],[3,"Regular High School"],[4,"Hard High School"],[5,"National High School"],[6,"● / Easy College"],[7,"●● / Medium College"],[8,"●●● / Regionals College"],[9,"●●●● / Nationals College"],[10,"Open"]];function r({startChecked:e=!1,label:t,value:a}){const[n,r]=React.useState(e);return React.createElement("li",{className:n?"active":void 0},React.createElement("label",null,React.createElement("input",{type:"checkbox",value:a,onClick:function(e){r(e.target.checked)},defaultChecked:n}),a,": ",t))}const s=function({startingDifficulties:e=[],onChange:t=()=>{}}){return React.createElement("div",{className:"dropdown-checklist btn-group w-100"},React.createElement("button",{className:"btn btn-default text-start w-100",id:"dropdownMenu1","data-bs-toggle":"dropdown",type:"button","aria-expanded":"true","aria-haspopup":"true"},"Difficulties"),React.createElement("button",{className:"btn btn-default dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown",type:"button"}),React.createElement("ul",{className:"dropdown-menu checkbox-menu allow-focus",id:"difficulties","aria-labelledby":"dropdownMenu1",onClick:e=>e.stopPropagation(),onChange:t},n.map(([t,a])=>React.createElement(r,{key:t,label:a,startChecked:e.includes(t),value:t}))))}},984:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(862);class r{constructor(e=[],t=[],a=[]){this.import({categories:e,subcategories:t,alternateSubcategories:a})}export(){return{categories:this.categories,subcategories:this.subcategories,alternateSubcategories:this.alternateSubcategories,percentView:this.percentView,categoryPercents:this.categoryPercents}}import({categories:e=[],subcategories:t=[],alternateSubcategories:a=[],percentView:r=!1,categoryPercents:s}={}){if(!s){s=[];for(let e=0;e<n.R6.length;e++)s.push(0)}e.length>0&&0===t.length&&e.forEach(e=>{n._h[e].forEach(e=>{t.push(e)})}),this.categories=e,this.subcategories=t,this.alternateSubcategories=a,this.percentView=r,this.categoryPercents=s}getRandomCategory(){const e=this.categoryPercents.reduce((e,t)=>e+t,0);if(0===e)return n.R6[Math.floor(Math.random()*n.R6.length)];let t=Math.random()*e;for(let e=0;e<this.categoryPercents.length;e++)if(t-=this.categoryPercents[e],t<=0)return n.R6[e]}isValidCategory(e){if(0===this.categories.length&&0===this.subcategories.length)return!0;const t=["Religion","Mythology","Philosophy","Social Science","Current Events","Geography","Other Academic"].includes(e.subcategory)||this.subcategories.includes(e.subcategory),a=!e.alternate_subcategory||this.alternateSubcategories.length>0&&this.alternateSubcategories.includes(e.alternate_subcategory);return this.categories.includes(e.category)&&t&&a}loadCategoryModal(){document.querySelectorAll("#categories input").forEach(e=>{e.checked=!1}),document.querySelectorAll("#subcategories input").forEach(e=>{e.checked=!1}),document.querySelectorAll("#subcategories label").forEach(e=>{e.classList.add("d-none")}),document.querySelectorAll("#alternate-subcategories input").forEach(e=>{e.checked=!1}),document.querySelectorAll("#alternate-subcategories label").forEach(e=>{e.classList.add("d-none")}),document.getElementById("subcategory-info-text").classList.toggle("d-none",this.categories.length||this.subcategories.length);for(const e of this.categories){document.getElementById(e).checked=!0;for(const t of n._h[e])document.querySelector(`[for="${t}"]`).classList.remove("d-none");for(const t of n.j[e])document.querySelector(`[for="${t}"]`).classList.remove("d-none")}for(const e of this.subcategories)document.getElementById(e).checked=!0;for(const e of this.alternateSubcategories)document.getElementById(e).checked=!0;document.getElementById("non-percent-view").className=this.percentView?"d-none":"row",document.getElementById("percent-view").className=this.percentView?"":"d-none",document.getElementById("toggle-all").disabled=this.percentView;const e=document.querySelectorAll(".category-percent");for(let t=0;t<this.categoryPercents.length;t++)e.item(t).textContent=String(this.categoryPercents[t]).padStart(3," ")+"%"}updateCategory(e){return this.categories.includes(e)?(this.categories=this.categories.filter(t=>t!==e),this.subcategories=this.subcategories.filter(t=>!n._h[e].includes(t)),this.alternateSubcategories=this.alternateSubcategories.filter(t=>!n.j[e].includes(t)),!1):(this.categories.push(e),this.subcategories=this.subcategories.concat(n._h[e]),this.alternateSubcategories=this.alternateSubcategories.concat(n.j[e]),!0)}updateSubcategory(e){return this.subcategories.includes(e)?(this.subcategories=this.subcategories.filter(t=>t!==e),!1):(this.subcategories.push(e),!0)}updateAlternateSubcategory(e){return this.alternateSubcategories.includes(e)?(this.alternateSubcategories=this.alternateSubcategories.filter(t=>t!==e),!1):(this.alternateSubcategories.push(e),!0)}}},986:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(685);class r{static starredSvg='<i class="bi bi-star-fill"></i>';static unstarredSvg='<i class="bi bi-star"></i>';static async starBonus(e){return fetch("/auth/stars/star-bonus",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bonus_id:e})}).then(e=>(401===e.status?new bootstrap.Toast(document.getElementById("star-toast")).show():e.ok||window.alert("There was an error starring the bonus."),e.ok)).catch(e=>(window.alert("There was an error starring the bonus."),!1))}static async starTossup(e){return fetch("/auth/stars/star-tossup",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tossup_id:e})}).then(e=>(401===e.status?new bootstrap.Toast(document.getElementById("star-toast")).show():e.ok||window.alert("There was an error starring the bonus."),e.ok)).catch(e=>(window.alert("There was an error starring the bonus."),!1))}static async unstarBonus(e){return fetch("/auth/stars/unstar-bonus",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bonus_id:e})}).then(e=>(401===e.status?new bootstrap.Toast(document.getElementById("star-toast")).show():e.ok||window.alert("There was an error unstarring the bonus."),e.ok)).catch(e=>(window.alert("There was an error unstarring the bonus."),!1))}static async unstarTossup(e){return fetch("/auth/stars/unstar-tossup",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tossup_id:e})}).then(e=>(401===e.status?new bootstrap.Toast(document.getElementById("star-toast")).show():e.ok||window.alert("There was an error unstarring the bonus."),e.ok)).catch(e=>(window.alert("There was an error unstarring the bonus."),!1))}static async isStarredBonus(e){return!!await n.A.getUsername()&&await fetch(`/auth/stars/is-starred-bonus?bonus_id=${e}`).then(e=>e.json()).then(e=>e.isStarred).catch(e=>!1)}static async isStarredTossup(e){return!!await n.A.getUsername()&&await fetch(`/auth/stars/is-starred-tossup?tossup_id=${e}`).then(e=>e.json()).then(e=>e.isStarred).catch(e=>!1)}static async getStarredTossups(){return await fetch("/auth/stars/tossups").then(e=>e.json()).then(e=>e)}static async getStarredBonuses(){return await fetch("/auth/stars/bonuses").then(e=>e.json()).then(e=>e)}static async getStarredTossupIds(){return await n.A.getUsername()?await fetch("/auth/stars/tossup-ids").then(e=>e.json()).then(e=>e):[]}static async getStarredBonusIds(){return await n.A.getUsername()?await fetch("/auth/stars/bonus-ids").then(e=>e.json()).then(e=>e):[]}static async clearStarredTossups(){const e=await fetch("/auth/stars/clear-tossup-stars",{method:"DELETE",headers:{"Content-Type":"application/json"}});e.ok||window.alert("There was an error clearing starred tossups.");const{count:t}=await e.json();t&&window.alert(`Cleared ${t} starred tossups.`)}static async clearStarredBonuses(){const e=await fetch("/auth/stars/clear-bonus-stars",{method:"DELETE",headers:{"Content-Type":"application/json"}});e.ok||window.alert("There was an error clearing starred bonuses.");const{count:t}=await e.json();t&&window.alert(`Cleared ${t} starred bonuses.`)}}}},c={};function o(e){var t=c[e];if(void 0!==t)return t.exports;var a=c[e]={exports:{}};return s[e](a,a.exports,o),a.exports}e="function"==typeof Symbol,t=e?Symbol("webpack queues"):"__webpack_queues__",a=e?Symbol("webpack exports"):"__webpack_exports__",n=e?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},o.a=(e,s,c)=>{var o;c&&((o=[]).d=-1);var i,l,u,m=new Set,d=e.exports,h=new Promise((e,t)=>{u=t,l=e});h[a]=d,h[t]=e=>(o&&e(o),m.forEach(e),h.catch(e=>{})),e.exports=h,s(e=>{var s;i=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var s=[];s.d=0,e.then(e=>{c[a]=e,r(s)},e=>{c[n]=e,r(s)});var c={};return c[t]=e=>e(s),c}}var o={};return o[t]=e=>{},o[a]=e,o}))(e);var c=()=>i.map(e=>{if(e[n])throw e[n];return e[a]}),l=new Promise(e=>{(s=()=>e(c)).r=0;var a=e=>e!==o&&!m.has(e)&&(m.add(e),e&&!e.d&&(s.r++,e.push(s)));i.map(e=>e[t](a))});return s.r?l:c()},e=>(e?u(h[n]=e):l(d),r(o))),o&&o.d<0&&(o.d=0)},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(754);